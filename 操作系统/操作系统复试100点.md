# 操作系统复习 100 点 {ignore=true}

[toc]

## 1. 操作系统的基本功能

+ 处理机管理
+ 存储器管理
+ 文件管理
+ 设备管理
+ 提供友好的用户接口

## 2. 操作系统的作用

+ OS 作为用户与计算机硬件系统之间的接口
+ OS 作为计算机系统资源的管理者
+ OS 实现了对计算机资源的抽象

## 3. 操作系统的基本特征

- 并发：两个或多个事件，在同一时间间隔内发生，宏观上并行，微观上串      行
- 共享：系统中的资源可供多个并发执行的进程共同使用
- 异步：进程的执行顺序和执行时间不确定
- 虚拟：通过某种技术把一个物理实体变为若干逻辑上的对应物

**并发**、**共享**是**最**基本特征

## 4. 并发与并行的区别

- 并发是两个或多个事件在<font color=red>同一时间间隔内</font>发生
- 并行是两个或多个事件在<font color=red>同一时刻</font>发生

## 5. 脱机输入/输出及其优点

<b>脱机输入/输出</b>：程序和数据的输入和输出都是在外围机的控制下完成

优点：

- 减少了 CPU 空闲时间
- 提高 I/O 速度

## 6. 系统调用的定义

用户在程序中调用操作系统所提供的一些子功能

## 7. 单道批处理和多道批处理各自的优缺点

批处理系统的宗旨：提高系统资源利用率和系统吞吐量

**单道批处理**：作业成批处理，内存中只有一条道

驱动力：解决人机矛盾和 CPU 与 I/O 设备速度不匹配

优点：

+ 相较于人工操作，系统处理作业能力显著提示

缺点：

+ 系统中的资源仍得不到充分利用

**多道批处理**：采用多道程序设计技术的批处理系统

优点：

+ 资源利用率高
+ 系统吞吐量大

缺点：

+ 无交互能力
+ 平均周转时间长

## 8. 分时系统的特点

**分时系统**：在一台主机上连接多个配有显示器和键盘的终端，同时允许多个用户通          过自己的终端以交互式的方式使用计算机，共享主机中的资源

驱动力：人-机交互需求

特点：

+ 多路性：系统允许多个终端同时连接一台主机，并按分时原则为每个用户        服务
+ 独立性：每个用户在各自的终端上进行操作，互不干扰
+ 及时性：用户的请求能在很短的时间内获得响应
+ 交互性：用户通过终端与系统进行广泛的人机交互

## 9. 实时系统的特点

**实时系统**：系统能及时响应外部事件的请求，在规定的时间完成对事件的处理，并          控制所有任务协调一致地运行

类型：

+ 硬实时：任务必须在规定的截止时间内完成，否则视为错误
+ 软实时：任务偶尔错误了截止时间，对系统产生的影响不会太大

特点：

+ 多路性

- 信息查询系统和分时系统的多路性为按分时原则
- 实时控制系统的多洗性是指系统周期性地对多路现场信息进行采集，以及对多个对象或多个执行机构进行控制

+ 独立性
+ 及时性

- 信息查询系统的要求与分时系统相似，都是人可以接受的等待时间而确定的
- 多媒体系统的要求是播放出来的音乐和电视能令人满足
- 实时控制系统的要求是根据截止时间来确定的

+ 交互性

- 在信息查询系统中人与系统的交互性，仅限与访问系统中某些特定的专用服务
- 多媒体系统也仅限于用户发送某些特定的命令
- 分时系统能向终端用户提供数据处理、资源共享等服务

+ 可靠性

## 10. 客户/服务器模式

**客户/服务器模式**：将操作系统分为两部分，一部分是用于提供服务的服务器；另                 一部分是用于实现 OS 最基本功能的内核

## 11. 微内核结构

**微内核结构**：将客户/服务器模式、面向对象技术用于基于微内核技术的 OS 中所形           成的 OS 结构

## 12. 前趋图

**前区图**：有向无循环图，可以用于描述程序段或进程之间执行的先后次序关系

## 13. 程序并发执行时的特征

优点：

+ 提高了资源利用率
+ 提高了系统吞吐量

特征：

+ 间断性：由于资源共享和相互合作，并发执行的程序间形成了相互制约关        系，导致程序的运行过程出现 『执行-暂停-执行』的现象
+ 失去封闭性：程序执行时与其他并发执行的程序共享系统的资源，导致程

  ```
       序的执行环境受到外界程序的影响
  ```
+ 不可再现性：同样的初始条件，一个程序的多次重复执行可能会得到不同

​           的结果

## 14. 进程的定义

**进程**：是进程实体（PCB+ 程序段 + 数据段）的运行过程，是系统进行资源分配和调度的一个独立单位

## 15. 进程控制块的概念

**进程控制块**：为了描述和控制进程的运行，系统为每个进程定义了一个数据结构-            进程控制块，及 PCB。PCB 是进程实体的一个组成部分，在 PCB 中记           录了 OS 所需的、用于描述进程当前情况和控制进程的全部信息

作用：将程序变为可并发执行的进程

PCB 是进程存在的唯一标识

## 16. 进程的结构特征

+ PCB
+ 数据段
+ 程序段

## 17. 进程的特性

+ 动态性：进程是程序的一次执行过程，因此是动态的
+ 并发性：多个进程实体同存与内存中，且能在一段时间内同时执行
+ 独立性：进程实体是一个能独立运行、独立资源分配和独立接受调度的基

​       本单位

+ 异步性：进程可按各自独立的、不可预知的速度向前推进

动态性、并发性、独立性是进程的最基本特征

## 18. 进程的基本状态及转换条件

基本状态：

+ 就绪状态：进程已获得除 CPU 以外的所有必要资源，只要获得 CPU，便可          立即执行
+ 阻塞状态：正在执行的进程因某种事件（如 I/O 请求）的发生而暂时无法

​         继续执行，只有相应的事件完成了，才去竞争 CPU

+ 执行状态：进程已获得 CPU，其程序挣正在 CPU 上执行

转换条件

- 就绪 --&gt; 执行：进程调度
- 执行 --&gt; 就行：时间片用完
- 执行 --&gt; 阻塞：等待 I/O 操作或其他事件
- 阻塞 --&gt; 就绪：I/O 操作或其他事件完成

## 19. 进程的创建/终止、阻塞/唤醒、挂起/激活的具体动作

进程创建：

1. 申请空闲的 PCB
2. 为新进程分配内存资源
3. 根据父进程提供的参数和分配到的清空对 PCB 进行初始化
4. 将新进程放入就绪队列

进程终止：

1. 找到要终止进程的 PCB
2. 如果进程正在执行，则终止它的执行，并设置重新调度标志
3. 终止属于该进程的所有子孙进程
4. 释放终止进程所拥有的全部资源
5. 将终止进程移出它所在的队列，并回收 PCB

进程阻塞：

- 停止进程的执行，将其状态改为阻塞状态，并将它的 PCB 插入相应的阻塞队列，转调度程序重新执行

进程唤醒：

- 在阻塞队列移出该进程的 PCB，将其设置为就绪状态，并将它插入到就绪队列

进程挂起：

- 若进程处于活动阻塞状态，则将它的状态改为静止阻塞状态；否则将它转换为静止就绪状态；将 PCB 复制到指定内存区域供用户或父进程考查；若挂起前进程正在执行，则转调度程序重新进行进程调度

进程激活：

- 若进程处于静止阻塞状态，则将它转换为活动阻塞状态；否则将它转换为活动就绪状态；若进程转换为活动就绪状态，而系统又采用抢占调度策略，则应检查该进程是否有权抢占 CPU，若有则应进行进程调度

## 20. 进程控制块中的信息

+ 进程标识符：用于唯一标识系统中的每个进程
+ 处理机状态：用于 CPU 切换时保存现场信息和恢复现场信息
+ 进程调度信息：用作进程调度和对换的依据
+ 进程控制信息：用于进程的控制

## 21. 进程控制块的组织方式

- 线性方式
- 链接方式
- 索引方式

## 22. 临界区和临界资源的定义

临界区：访问临界资源的那段代码

临界资源：采用互斥方式访问的资源

## 23. 进程同步的定义

**进程同步**：多个相关进程在执行次序上进行协调，它的目的是使系统中诸进程之间          能按照一定的规则，共享资源和相互合作，从而使程序的执行具有可再         现性

## 24. 进程互斥的定义

**进程互斥**：同步的特例，多个操作决不能同时执行

## 25. 管程的定义

**管程**：利用共享数据结构抽象地表示系统中的共享资源，并且将对该数据结构实施      的特定操作定义为一组过程

## 26. 原语的概念

**原语**：操作系统中能完成特定功能且不可中断的过程

## 27. P/V 操作或 Wait/Signal 操作的具体动作

1. 设置互斥信号量（mutex）初值为 1

+ mutex &lt;= 0：申请某类资源而进入阻塞的进程数
+ mutex &gt; 0：系统中某类可用资源的数目

2. 进程 A 执行 P 操作（mutex - 1），开始执行进程 A，此时的 mutex === 0，如果这时有其他进程 B 访问该资源，在执行 P 操作，进程 B 状态变为就绪状态，进程 B 插入就绪队列
3. 进程 A 执行 V 操作（mutext + 1），进程 B 将状态改为就绪状态，插入就绪队列，等待系统进程调度

## 28. 经典的进程同步问题--生产者消费者、读者写者和哲学家就餐问题

生产者-消费者

```c

// in：放的次数, out：取的次数

ini in = 0, out = 0;

// n个缓冲池

item buffer[n];

// mutex：互斥信号量

// empty：资源信息（空盒）

// full：资源信号量（有食物的盒子）

semaphore mutex = 1, empty = n, full = 0;



// 生产者

void producer() {

do {

// 创造食物

produce an item nextp;

...

wait(empty); // 生产者检查是否含有空盒子，如果没有，进入阻塞队列

wait(mutex); // 上锁 生成食物期间，不允许其他生产者和消费者访问

buffer[n] = nextp;

in = (in + 1) % n; // 放食操作 + 1，最多不能操作缓冲池大小

signal(mutex); // 开锁

signal(full); // 有食物的盒子 + 1

}

while(TRUE);

}



// 消费者

void consumer() {

do {

wait(full); // 消费者检查是否有装有食物的盒子，如果没有，进入阻塞队列

wait(mutex); // 上锁 消费食物期间，不允许其他生产者和消费者访问

nextc = buffer[n];

out = (out + 1) % n; // 取食操作 + 1

signal(mutex); // 开锁

signal(empty); // 空盒子 + 1

....

consume the item in nextc;

}

while(TRUE);

}



void main() {

cobegin

producer();...consumer();

codend

}

```

哲学家就餐问题

```c

pi() {

do {

wait(&Sm); // 限制就餐哲学家数量，最多只允许四个人吃饭

wait(&chopstick[i]);

wait(&chopstick[(i + 1) % 5]);

eat;

signal(&chopstick[i]);

signal(&chopstick[(i + 1) % 5]);

signal(&Sm);

think;

}

while(TRUE);

}



void mian() {

cobegin;

pi();

coend;

}

```

读者-写着问题

```c

semaphore rmutex = 1, mutex = 1;

int readcount = 0;



void reader() {

do {

wait(rmutex);

if (readcount === 0) wait(mutex);

readcount++;

signal(rmutex);

...

perform read operation;

...

wait(rmutex);

  readcount--;

  if (readcount === 0) signal(mutex);

signal(rmutex);

} while(TRUE);

}



void writer() {

do {

wait(mutex);

perform write operation;

signal(mutex);

} while(TRUE);

}



void main() {

cobegin

reader();...writer();

coend;

}

```

## 29. 利用 Wait/Signal 操作解决实际的进程同步问题

## 30. 进程通信的类型

- 共享存储器系统
- 管道通讯
- 消息传递
- 客户机-服务器系统

## 31. 消息缓冲队列通信机制

**消息缓冲队列通信机制**：通过内存中公用的消息缓冲区进行通信，属于直接通信方                      式

## 32. 线程引入的原因

减少程序在并发时所付出的时空开销，从而使 OS 具有更好的并发性

## 33. 进程和线程的比较

1. 调度单位
2. 并发性

- 进程切换必定引起线程切换
- 同一进程创建的线程切换不会引起进程切换

3. 拥有资源

- 进程独享资源
- 线程共享进程资源

4. 独立性

- 进程独立性高
- 线程独立性低

5. 系统开销

- 进程创建、销毁、切换的开销明显大于线程

## 34. 线程的属性

- 作为调度和分派的基本单位

## 35. 线程的三个基本状态

- 就绪状态
- 阻塞状态
- 执行状态

## 36. 处理机调度的层次

- 高级调度：作业调度
- 低级调度：进程调度
- 中级调度：内存调度

## 37. 作业控制块的概念

作业控制块在系统中存在的标志，其中保存了系统对作业进行管理和调度所需的全部信息

## 38. 进程抢占式调度和非抢占式调度的概念

**抢占式调度**：当一进程正在处理机上执行时，系统可根据某种原则暂停它的执行

**非抢占式调度**：一旦进程获得 CPU，它将一直执行，知道该进程完成或发生某件事             件而阻塞时，才将 CPU 分配给其他进程

## 39. 调度队列模型

## 40. 先来先服务调度算法

## 41. 短作业优先调度算法

## 42. 高响应优先调度算法

## 43. 死锁的定义

一个进程集合中的每一个进程都在等待只能由该集合中的其他进程才能引发的事件，那么该组进程进入死锁

## 44. 产生死锁的原因

- 竞争资源
- 进程推进顺序非法

## 45. 产生死锁的必要条件

- 互斥条件
- 请求与保持条件
- 不剥削条件
- 环路等待条件

## 46. 处理死锁的基本方法

- 预防死锁
- 避免死锁
- 死锁的检测与解除

## 47. 系统安全状态的定义

**安全状态**：系统能按某种进程顺序，为每个进程分配起所需的资源，直至最大需         求，使每个进程都能顺利完成

## 48. 银行家算法与银行家算法之例

## 49. 存储器的层次结构

最少为三层

- CPU 存储器
- 主存
- 辅存

## 50. 地址重定位的概念

**地址重定位**：将装入模块中的指令和数据的相对地址调整成相应内存单元的绝对地址后，程序才能正确运行的地址转换过程

## 51. 地址变换机构的作用

将逻辑地址通过与页表寄存器比较，转换为对应的物理地址

## 52. 各种存储管理方式及其产生的背景

- 基本分页存储管理方式
- 分段式存储管理方式

## 53. 固定分区存储管理

**固定分区**：在系统初起时，将内存中的用户空间划分若干区域，这些分区的大小和           边界在系统运行期间不再变化，并只允许在每个分区中装入一道作业

## 54. 动态分区存储管理

**动态分区**：每次装入作业，动态的从内存中划分一个分区，其他刚好能满足实际所          需

## 55. 动态分区存储管理方式中分区分配算法

- 首次适应算法：按起始地址递增查找空闲区表，并从第一个满足要求的空              闲区表中划出作业所需的空间
- 循环首次适应算法
- 最佳适应算法：空闲区表按从小到大排列，选取最小且能满足要求的部分，划分出来
- 最坏适应算法：空闲区表按从大到小排列，选取最大

## 56. 页面和页表的概念

页面：将一个进程的逻辑地址分为若干个大小相等的片

页表：能在内存中找到每个页面的对应的物理块，系统为每个进程建立了一张页面      映射表

## 57. 基本分页存储管理的地址结构

- 页号
- 位移量

## 58. 两级页表

## 59. 基本分段存储管理

## 60. 虚拟存储器的概念、实现方法和特征

**虚拟存储器**：是指具有请求调入功能和置换功能，能在逻辑上对内存容量进行扩充            的一种存储系统

特征：

- 多次性
- 对换性
- 虚拟性

## 61. 请求分页存储管理方式

在分页的基础上增加了请求调用功能和页面置换功能

增加的内容（内存块号 + 存储访问字段）

- 修改位
- 访问位
- 状态位
- 外存地址

## 62. 页式存储管理方式中，分解逻辑地址获得页号和页内位移量，并根据页表计算物理地址

## 63. 抖动的定义

**抖动**：被调出的页面又立即需要被调入所形成的频繁调入调出现象

产生原因：置换算法选择不当

## 64. 先进先出（FIFO）页面置换算法

## 65. 最近最久未使用（LRU）页面置换算法

## 66. 页式存储管理和段式存储管理的区别

- 页是物理单位，用于提高内存利用率；段时逻辑单位，更好的满足用户需求
- 页的大小固定；段的大小不固定
- 页表中，进程的地址空间是一维的，段是二维的

## 67. 分区存储管理的保护措施

分区的保护

- 界地址保护
- 基址保护

分段的保护

- 越界检查
- 环保护机构
- 存储控制检查

## 68. I/O 设备的分类

- 按信息交换的单位分类：块设备和字符设备
- 按使用特性分类：存储设备和 I/O 设备
- 按传输速率分类：低速设备、中速设备、高速设备

## 69. 设备控制器的概念

**设备控制器**：CPU 与 I/O 设备之间硬件接口，它接受从 CPU 发来的命令，并区控制           一个或多个设备

## 70. 通道的概念

**通道**：用于管理 I/O 的一个专门的部件

## 71. I/O 通道的类型及其所适合的设备特点

类型：

- 选择通道：连接一台快设备执行通道程序，数据以数组形式传输
- 字节多路通道：连接多台慢设备，以交叉的方式传输数据
- 数组多路通道：选取通道 + 字节多路通道的优点

## 72. 四种 I/O 控制方式的具体过程

- 轮询方式
- 中断方式
- 直接存储器访问方式
- I/O 通道控制方式

## 73. DMA 工作过程

1. CPU 将 I/O 指令发送到 DMA 控制器的命令寄存器；要输入数据的内存地址放入 DMA 的内存地址寄存器；要传输的字节数放入 DMA 的数据寄存器中
2. 启动 DMA 控制器进行数据传送
3. 等待输入数据的用户进程被阻塞，CPU 被调度给其他就绪进程
4. 同时，在 DMA 控制器的控制下，输入设备不断地挪用 CPU 的存储器周期，把输入数据通过 DMA 控制器的数据寄存器传输到指定的内存位置
5. 当所有要求的字节全部传送完毕后，DMA 控制器向 CPU 发送一个 I/O 中断信号
6. CPU 中断响应，由中断处理程序进行善后处理，并唤醒被阻塞的用户进程

## 74. 缓冲技术引入的原因

- 缓和 CPU 与 I/O 设备之间的处理速度
- 减少外设对 CPU 的中断次数；放宽 CPU 对中断响应的时间限制
- 解决数据粒度不匹配
- 提高 CPU 与 I/O 设备之间的并行性

## 75. I/O 系统的层次及功能

- 用户层 I/O 软件：实现与用户交互，用户可直接调用该层所提供的与 I/O 操               作有关的库函数，对设备进行操作
- 设备独立性软件：实现用户程序与设备驱动器的统一接口、设备命名、设                备的保护以及设备的分配和释放等
- 设备驱动程序：与硬件直接相关，用于具体实现系统对设备发出操作指令

​             驱动 I/O 设备进行数据传输等工作

- 中断处理程序：用于在设备完成 I/O 操作后，根据 I/O 操作的具体完成情

​             况，进行 I/O 操作的结束处理

## 76. 设备中断处理程序

I/O 设备完成 I/O 操作后，设备控制器向 CPU 发送一个 I/O 中断信号。CPU 响应中断时，将保存中断进程的 CPU 现场，然后分析中断原因并通过中断向量表转去执行响应的 I/O 处理中断程序

中断过程

- 检查本次 I/O 操作的完成情况
- 进行 I/O 结束或错误处理
- 唤醒被 I/O 操作阻塞的进程
- 启动下一请求
- 中断返回

## 77. 设备驱动程序

I/O 进程与设备控制器之间的通信程序，它接受上层软件的、抽象的 I/O 命令，再把它转换成具体要求后，发送设备控制器，从而启动设备进行数据传送

处理过程

+ 将抽象的要求转换为具体的要求
+ 检查 I/O 请求的合法性
+ 读出和检查设备的状态
+ 传送必要的参数
+ 启动 I/O 设备

## 78. 外部设备启动的具体过程

## 79. SPOOLing 系统的组成

- 输入井和输出井
- 输入缓冲区和输出缓冲区
- 输入进程和输出进程
- 井管理程序

## 80. SPOOLing 系统的特点

- 提高了 I/O 的速度
- 将独占设备改为共享设备
- 实现了虚拟设备

## 81. 磁盘访问时间的构成

- 寻道时间 Ts
- 旋转延迟时间 T
- 传输时间 Tt

## 82. 先来先服务磁盘调度算法

## 83. 最短寻道时间优先磁盘调度算法

## 84. 扫描磁盘调度算法

## 85. 文件的逻辑结构（文件组织）

从用户观点所观察到的文件组织形式，即文件是由一系列的逻辑记录组成的，是用户可以直接处理的数据结构

## 86. 顺序文件和索引文件的优缺点

顺序文件

- 优点：对文件中的记录进行批量存储时，效率最高
- 缺点：

1. 在交互应用的场合，查找和修改单个记录开销大
2. 增加和删除一个记录困难

索引文件

- 优点：处理变长顺序文件的顺序检索效率高
- 缺点：由于要建立索引表，增加了存储开销

## 87. 文件的外存分配方式，连续分配、链接分配、索引分配

## 88. 混合索引分配方式的文件大小计算方法

## 89. 文件目录的概念和作用

**文件目录**：文件目录是一种数据结构

作用：标识系统中的文件及其物理地址，供检索时使用

## 90. 文件目录和文件控制块的关系

文件控制块的有序集合成为文件目录，即一个文件控制块就是一个文件目录

## 91. 文件控制块（FCB）包含的信息

+ 基本信息类

1. 文件名
2. 文件物理地址
3. 文件逻辑结构
4. 文件的物理结构

+ 存储控制信息类

1. 文件主的存取权限
2. 核准用户的存储权限
3. 一般用户的存储权限

+ 使用信息类

1. 文件建立时间
2. 文件上一次修改时间
3. 当前使用信息

## 92. 单级文件目录的缺点

优点：简单

缺点：

- 查找速度慢
- 不允许重名
- 不便于实现文件共享

## 93. 两级文件目录的优点

优点：

- 提高了检索目录的速度
- 在不同的用户目录下，可以使用相同的文件名
- 不同用户还可以使用不同的文件名访问系统中同一共享文件

## 94. 多级文件目录的优点

优点：

- 进一步提高对目录的检索速度
- 用户更加方便地组织和使用自己的文件

## 95. 文件删除的具体动作

- 在目录中找到要删除文件的目录项
- 并根据其中的外存地址回收该文件所占的存储空间
- 释放其目录项

## 96. 联机用户接口

联机用户接口为批处理作业的用户提供的，该接口由作业控制语言 JCL 组成，它向用户提供了一组作业控制指令

## 97. 图形用户接口

图形化用户接口可以看成是命令接口的图形化，他采用 WIMP 技术，将窗口，图标，菜单，鼠标和面向对象技术等集成在一起，用图标将系统的各项功能、各种应用程序和文件直观、逼真的表示出来

## 98. Unix 系统概述

## 99. Unix 系统特征

## 100. 进程映像

进程映像也称进程图像，是进程执行的上下文环境